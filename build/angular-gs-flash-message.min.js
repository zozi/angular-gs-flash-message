!function(a,b){"use strict";b.module("gs.flash-message",["ngSanitize"]).directive("gsFlashMessage",["$sce",function(a){function c(b){return b=b||{},_.forEach(["success","error"],function(c){b[c]=_.isArray(b[c])?b[c]:_.isString(b[c])?[a.trustAsHtml(b[c])]:[]}),b}function d(a,b){return a.flash&&a.flash[b]}return{restrict:"A",scope:!0,template:'<div class="alert" ng-if="messages.error.length || messages.success.length"><div ng-if="messages.error.length" class="alert--message alert--message__error"><span class="alert--message--content" ng-repeat="error in messages.error track by $index" ng-bind-html="error"></span><a href="javascript:;" ng-click="close()"><i class="alert--message--remove-icon"></i></a></div><div ng-if="messages.success.length" class="alert--message alert--message__success"><span class="alert--message--content" ng-repeat="success in messages.success track by $index" ng-bind-html="success"></span><a href="javascript:;" ng-click="close()"><i class="alert--message--remove-icon"></i></a></div></div>',link:function(a,e,f){var g=f.gsFlashMessage||f.dataGsFlashMessage;g.length&&(b.extend(a,{messages:c({})}),a.$on("$stateChangeSuccess",function(b,e,f,h,i){var j=d(i,g);return j?a.messages=c(j):a.close(),a.messages}),a.$on("flash:"+g,function(b,d){return a.messages=c(d),a.messages}),a.close=function(){return a.messages=c({}),a.messages})}}}])}(window,window.angular);