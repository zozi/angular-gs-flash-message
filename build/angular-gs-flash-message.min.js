!function(a,b){"use strict";b.module("gs.flash-message",["ngSanitize"]).directive("gsFlashMessage",["$sce",function(a){function c(b){return b=b||{},_.forEach(Object.keys(b),function(c){b[c]=_.isArray(b[c])?b[c]:_.isString(b[c])?[a.trustAsHtml(b[c])]:[]}),b}function d(a,b){return a.flash&&a.flash[b]}return{restrict:"A",scope:!0,template:'<div class="alert" ng-if="flashMessagesPopulated()"><div ng-if="messageList.length" ng-repeat="(key, messageList) in messages" class="alert--message alert--message__{{ key }}""><span class="alert--message--content" ng-repeat="message in messageList track by $index" ng-bind-html="message"></span><a href ng-click="close()"><i class="alert--message--remove-icon"></i></a></div></div>',link:function(a,e,f){var g=f.gsFlashMessage||f.dataGsFlashMessage;g.length&&(b.extend(a,{messages:c({})}),a.$on("$stateChangeSuccess",function(b,e,f,h,i){var j=d(i,g);return j?a.messages=c(j):a.close(),a.messages}),a.$on("flash:"+g,function(b,d){return a.messages=c(d),a.messages}),a.close=function(){return a.messages=c({}),a.messages},a.flashMessagesPopulated=function(){return _.any(a.messages,"length")})}}}])}(window,window.angular);